___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Send Dynatrace BuizEvent with RUM",
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/jpeg;base64,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"
  },
  "description": "Sends a Business event to Dynatrace using the RUM Javascript API (session needs to be instrumented with dynatrace)",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "event_type",
    "displayName": "event_type",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "PARAM_TABLE",
    "name": "attributes",
    "displayName": "attributes",
    "paramTableColumns": []
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// Introduzca aquí su código de plantilla.
const log = require('logToConsole');
const dynatrace = require('dynatrace');
log('data =', data);

const event_type=data.event_type;
const attributes=data.attributes;


if (dynatrace.sendbizevent(event_type, attributes)) {
    log ('Event sent to Dynatrace...'); 
    } else { log('Dynatrace object or sendBizEvent function not found.');
} 


// Ejecute data.gtmOnSuccess cuando la etiqueta haya finalizado.
data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "all"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 18/11/2024, 15:34:33


